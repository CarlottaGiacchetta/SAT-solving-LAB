(set-option :produce-models true)

(declare-const x11 Int)
(declare-const x12 Int)
(declare-const x13 Int)
(declare-const x14 Int)
(declare-const x15 Int)

(declare-const x21 Int)
(declare-const x22 Int)
(declare-const x23 Int)
(declare-const x24 Int)
(declare-const x25 Int)

(declare-const x31 Int)
(declare-const x32 Int)
(declare-const x33 Int)
(declare-const x34 Int)
(declare-const x35 Int)

(declare-const x41 Int)
(declare-const x42 Int)
(declare-const x43 Int)
(declare-const x44 Int)
(declare-const x45 Int)

(declare-const x51 Int)
(declare-const x52 Int)
(declare-const x53 Int)
(declare-const x54 Int)
(declare-const x55 Int)

(define-fun ExactlyOneCorner ((n Int) (x1 Int) (x2 Int)) Bool (= 1 (+ (ite (= n x1) 1 0) (ite (= n x2) 1 0))))
(define-fun ExactlyOneBorder ((n Int) (x1 Int) (x2 Int) (x3 Int)) Bool (= 1 (+ (ite (= n x1) 1 0) (ite (= n x2) 1 0) (ite (= n x3) 1 0))))
(define-fun ExactlyOneMiddle ((n Int) (x1 Int) (x2 Int) (x3 Int) (x4 Int)) Bool (= 1 (+ (ite (= n x1) 1 0) (ite (= n x2) 1 0) (ite (= n x3) 1 0) (ite (= n x4) 1 0))))

(define-fun ExactlyTwoCorner ((n Int) (x1 Int) (x2 Int)) Bool (= 2 (+ (ite (= n x1) 1 0) (ite (= n x2) 1 0))))
(define-fun ExactlyTwoBorder ((n Int) (x1 Int) (x2 Int) (x3 Int)) Bool (= 2 (+ (ite (= n x1) 1 0) (ite (= n x2) 1 0) (ite (= n x3) 1 0))))
(define-fun ExactlyTwoMiddle ((n Int) (x1 Int) (x2 Int) (x3 Int) (x4 Int)) Bool (= 2 (+ (ite (= n x1) 1 0) (ite (= n x2) 1 0) (ite (= n x3) 1 0) (ite (= n x4) 1 0))))

(assert (= x11 1))
(assert (= x12 2))
(assert (= x24 3))
(assert (= x32 3))
(assert (= x33 2))
(assert (= x42 4))
(assert (= x54 1))
(assert (= x55 4))


(assert (and (>= x11 0) (<= x11 4)))
(assert (and (>= x12 0) (<= x12 4)))
(assert (and (>= x13 0) (<= x13 4)))
(assert (and (>= x14 0) (<= x14 4)))
(assert (and (>= x15 0) (<= x15 4)))

(assert (and (>= x21 0) (<= x21 4)))
(assert (and (>= x22 0) (<= x22 4)))
(assert (and (>= x23 0) (<= x23 4)))
(assert (and (>= x24 0) (<= x24 4)))
(assert (and (>= x25 0) (<= x25 4)))

(assert (and (>= x31 0) (<= x31 4)))
(assert (and (>= x32 0) (<= x32 4)))
(assert (and (>= x33 0) (<= x33 4)))
(assert (and (>= x34 0) (<= x34 4)))
(assert (and (>= x35 0) (<= x35 4)))

(assert (and (>= x41 0) (<= x41 4)))
(assert (and (>= x42 0) (<= x42 4)))
(assert (and (>= x43 0) (<= x43 4)))
(assert (and (>= x44 0) (<= x44 4)))
(assert (and (>= x45 0) (<= x45 4)))

(assert (and (>= x51 0) (<= x51 4)))
(assert (and (>= x52 0) (<= x52 4)))
(assert (and (>= x53 0) (<= x53 4)))
(assert (and (>= x54 0) (<= x54 4)))
(assert (and (>= x55 0) (<= x55 4)))

(assert (ExactlyOneCorner x11 x12 x21))
(assert (ExactlyOneBorder x12 x11 x13 x22))
(assert (ExactlyTwoBorder x13 x12 x14 x23))
(assert (ExactlyTwoBorder x14 x13 x15 x24))
(assert (ExactlyTwoCorner x15 x14 x25))

(assert (ExactlyTwoBorder x21 x11 x22 x31))
(assert (ExactlyTwoMiddle x22 x21 x23 x12 x32))
(assert (ExactlyTwoMiddle x23 x22 x24 x13 x33))
(assert (ExactlyOneMiddle x24 x23 x25 x14 x34))
(assert (ExactlyTwoBorder x25 x15 x24 x35))

(assert (ExactlyTwoBorder x31 x21 x32 x41))
(assert (ExactlyOneMiddle x32 x31 x33 x22 x42))
(assert (ExactlyOneMiddle x33 x32 x34 x23 x43))
(assert (ExactlyTwoMiddle x34 x33 x35 x24 x44))
(assert (ExactlyTwoBorder x35 x25 x34 x45))

(assert (ExactlyTwoBorder x41 x31 x42 x51))
(assert (ExactlyOneMiddle x42 x41 x43 x32 x52))
(assert (ExactlyTwoMiddle x43 x42 x44 x33 x53))
(assert (ExactlyTwoMiddle x44 x43 x45 x34 x54))
(assert (ExactlyTwoBorder x45 x35 x44 x55))

(assert (ExactlyTwoCorner x51 x52 x41))
(assert (ExactlyTwoBorder x52 x51 x53 x42))
(assert (ExactlyTwoBorder x53 x52 x54 x43))
(assert (ExactlyOneBorder x54 x53 x55 x44))
(assert (ExactlyOneCorner x55 x54 x45))


(check-sat)
(get-model)
(exit)